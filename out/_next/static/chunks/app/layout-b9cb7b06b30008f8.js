(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{30153:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var r=n(95155),l=n(12115);function o(e){let{error:t,reset:n}=e,o=(0,l.useRef)(""),i=(0,l.useRef)();return((0,l.useEffect)(()=>{if(window.parent===window)return;let e=e=>window.parent.postMessage(e,"*"),t=t=>{var n;return e({type:"ERROR_CAPTURED",error:{message:t.message,stack:null==(n=t.error)?void 0:n.stack,filename:t.filename,lineno:t.lineno,colno:t.colno,source:"window.onerror"},timestamp:Date.now()})},n=t=>{var n,r,l;return e({type:"ERROR_CAPTURED",error:{message:null!=(l=null==(n=t.reason)?void 0:n.message)?l:String(t.reason),stack:null==(r=t.reason)?void 0:r.stack,source:"unhandledrejection"},timestamp:Date.now()})};return window.addEventListener("error",t),window.addEventListener("unhandledrejection",n),i.current=setInterval(()=>{var t,n,r;let l=document.querySelector("[data-nextjs-dialog-overlay]"),i=null!=(t=null==l?void 0:l.querySelector("h1, h2, .error-message, [data-nextjs-dialog-body]"))?t:null,a=null!=(r=null!=(n=null==i?void 0:i.textContent)?n:null==i?void 0:i.innerHTML)?r:"";a&&a!==o.current&&(o.current=a,e({type:"ERROR_CAPTURED",error:{message:a,source:"nextjs-dev-overlay"},timestamp:Date.now()}))},1e3),()=>{window.removeEventListener("error",t),window.removeEventListener("unhandledrejection",n),i.current&&clearInterval(i.current)}},[]),(0,l.useEffect)(()=>{t&&window.parent.postMessage({type:"global-error-reset",error:{message:t.message,stack:t.stack,digest:t.digest,name:t.name},timestamp:Date.now(),userAgent:navigator.userAgent},"*")},[t]),t)?(0,r.jsx)("html",{children:(0,r.jsx)("body",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full text-center space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-destructive",children:"Something went wrong!"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"An unexpected error occurred. Please try again fixing with Orchids"})]}),(0,r.jsx)("div",{className:"space-y-2",children:!1})]})})}):null}},30347:()=>{},42714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return o}});let n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},r=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function l(e){return["async","defer","noModule"].includes(e)}function o(e,t){for(let[o,i]of Object.entries(t)){if(!t.hasOwnProperty(o)||r.includes(o)||void 0===i)continue;let a=n[o]||o.toLowerCase();"SCRIPT"===e.tagName&&l(a)?e[a]=!!i:e.setAttribute(a,String(i)),(!1===i||"SCRIPT"===e.tagName&&l(a)&&(!i||"false"===i))&&(e.setAttribute(a,""),e.removeAttribute(a))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return b},handleClientScriptLoad:function(){return p},initScriptLoader:function(){return h}});let r=n(88229),l=n(6966),o=n(95155),i=r._(n(47650)),a=l._(n(12115)),u=n(82830),s=n(42714),d=n(92374),c=new Map,f=new Set,g=e=>{if(i.default.preinit)return void e.forEach(e=>{i.default.preinit(e,{as:"style"})});{let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}},m=e=>{let{src:t,id:n,onLoad:r=()=>{},onReady:l=null,dangerouslySetInnerHTML:o,children:i="",strategy:a="afterInteractive",onError:u,stylesheets:d}=e,m=n||t;if(m&&f.has(m))return;if(c.has(t)){f.add(m),c.get(t).then(r,u);return}let p=()=>{l&&l(),f.add(m)},h=document.createElement("script"),y=new Promise((e,t)=>{h.addEventListener("load",function(t){e(),r&&r.call(this,t),p()}),h.addEventListener("error",function(e){t(e)})}).catch(function(e){u&&u(e)});o?(h.innerHTML=o.__html||"",p()):i?(h.textContent="string"==typeof i?i:Array.isArray(i)?i.join(""):"",p()):t&&(h.src=t,c.set(t,y)),(0,s.setAttributesFromProps)(h,e),"worker"===a&&h.setAttribute("type","text/partytown"),h.setAttribute("data-nscript",a),d&&g(d),document.body.appendChild(h)};function p(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,d.requestIdleCallback)(()=>m(e))}):m(e)}function h(e){e.forEach(p),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function y(e){let{id:t,src:n="",onLoad:r=()=>{},onReady:l=null,strategy:s="afterInteractive",onError:c,stylesheets:g,...p}=e,{updateScripts:h,scripts:y,getIsSsr:b,appDir:v,nonce:w}=(0,a.useContext)(u.HeadManagerContext),E=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let e=t||n;E.current||(l&&e&&f.has(e)&&l(),E.current=!0)},[l,t,n]);let x=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{if(!x.current){if("afterInteractive"===s)m(e);else"lazyOnload"===s&&("complete"===document.readyState?(0,d.requestIdleCallback)(()=>m(e)):window.addEventListener("load",()=>{(0,d.requestIdleCallback)(()=>m(e))}));x.current=!0}},[e,s]),("beforeInteractive"===s||"worker"===s)&&(h?(y[s]=(y[s]||[]).concat([{id:t,src:n,onLoad:r,onReady:l,onError:c,...p}]),h(y)):b&&b()?f.add(t||n):b&&!b()&&m(e)),v){if(g&&g.forEach(e=>{i.default.preinit(e,{as:"style"})}),"beforeInteractive"===s)if(!n)return p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,o.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...p,id:t}])+")"}});else return i.default.preload(n,p.integrity?{as:"script",integrity:p.integrity,nonce:w,crossOrigin:p.crossOrigin}:{as:"script",nonce:w,crossOrigin:p.crossOrigin}),(0,o.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([n,{...p,id:t}])+")"}});"afterInteractive"===s&&n&&i.default.preload(n,p.integrity?{as:"script",integrity:p.integrity,nonce:w,crossOrigin:p.crossOrigin}:{as:"script",nonce:w,crossOrigin:p.crossOrigin})}return null}Object.defineProperty(y,"__nextScript",{value:!0});let b=y;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72344:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(95155),l=n(12115);let o="ORCHIDS_HOVER_v1",i="orchids_visual_edit_mode",a="orchids_focused_element",u="",s=e=>{try{let t=JSON.stringify(e);if(t===u)return;u=t}catch(e){}window.parent.postMessage(e,"*")},d=e=>{var t;let n=e.tagName.toLowerCase();if("true"===e.contentEditable||"input"===n||"textarea"===n)return!0;if(["p","h1","h2","h3","h4","h5","h6","span","div","li","td","th","label","a","button"].includes(n)&&(null==(t=e.textContent)?void 0:t.trim())){let t=Array.from(e.childNodes).some(e=>{var t;return e.nodeType===Node.TEXT_NODE&&(null==(t=e.textContent)?void 0:t.trim())});if(0===e.childElementCount||e.childElementCount<=1&&t)return!0}return!1},c=e=>{let t="";for(let n of e.childNodes)n.nodeType===Node.TEXT_NODE&&(t+=n.textContent||"");return t},f=e=>{let t=e.split(":");if(t.length<3)return null;let n=parseInt(t.pop()||"0"),r=parseInt(t.pop()||"0"),l=t.join(":");return isNaN(r)||isNaN(n)?null:{filePath:l,line:r,column:n}},g=e=>{let t=window.getComputedStyle(e),n=(e,t)=>{if("backgroundColor"===t&&("rgba(0, 0, 0, 0)"===e||"rgb(0, 0, 0, 0)"===e||"transparent"===e||""===e))return"transparent";if("backgroundImage"===t&&("none"===e||""===e)||"textDecoration"===t&&(e.includes("none")||""===e))return"none";if("fontStyle"===t&&("normal"===e||""===e))return"normal";if("fontWeight"===t){let t=parseInt(e);return isNaN(t)?e||"400":String(t)}return"opacity"===t&&("1"===e||""===e)?"1":(t.includes("padding")||t.includes("margin"))&&("0px"===e||"0"===e)||"borderRadius"===t&&("0px"===e||"0"===e)?"0":"letterSpacing"===t&&("normal"===e||"0px"===e)||"gap"===t&&("normal"===e||"0px"===e)?"normal":e};return{fontSize:n(t.fontSize,"fontSize"),color:n(t.color,"color"),fontWeight:n(t.fontWeight,"fontWeight"),fontStyle:n(t.fontStyle,"fontStyle"),textDecoration:n(t.textDecoration,"textDecoration"),textAlign:n(t.textAlign,"textAlign"),lineHeight:n(t.lineHeight,"lineHeight"),letterSpacing:n(t.letterSpacing,"letterSpacing"),paddingLeft:n(t.paddingLeft,"paddingLeft"),paddingRight:n(t.paddingRight,"paddingRight"),paddingTop:n(t.paddingTop,"paddingTop"),paddingBottom:n(t.paddingBottom,"paddingBottom"),marginLeft:n(t.marginLeft,"marginLeft"),marginRight:n(t.marginRight,"marginRight"),marginTop:n(t.marginTop,"marginTop"),marginBottom:n(t.marginBottom,"marginBottom"),backgroundColor:n(t.backgroundColor,"backgroundColor"),backgroundImage:n(t.backgroundImage,"backgroundImage"),borderRadius:n(t.borderRadius,"borderRadius"),fontFamily:n(t.fontFamily,"fontFamily"),opacity:n(t.opacity,"opacity"),display:n(t.display,"display"),flexDirection:n(t.flexDirection,"flexDirection"),alignItems:n(t.alignItems,"alignItems"),justifyContent:n(t.justifyContent,"justifyContent"),gap:n(t.gap,"gap")}},m=e=>{if(!e)return"";try{let t=new URL(e,window.location.origin);if("/_next/image"===t.pathname){let e=t.searchParams.get("url");if(e)return decodeURIComponent(e)}return t.href}catch(t){return e}},p=e=>{if(e.includes("\n")){let t=e.replace(/\n/g,"\\n");return"{`".concat(t,"`}")}return e};function h(){let[e,t]=(0,l.useState)(null),[n,u]=(0,l.useState)([]),[h,y]=(0,l.useState)(null),[b,v]=(0,l.useState)(null),[w,E]=(0,l.useState)(()=>"true"===localStorage.getItem(i)),[x,S]=(0,l.useState)(!1),[L,C]=(0,l.useState)(null),[_,I]=(0,l.useState)(null),[R,A]=(0,l.useState)(!1),[M,T]=(0,l.useState)(null),[N,O]=(0,l.useState)(null),j=(0,l.useRef)(!1),k=(0,l.useRef)(null),P=(0,l.useRef)(null),D=(0,l.useRef)(null),z=(0,l.useRef)(!1),F=(0,l.useRef)(null),B=(0,l.useRef)(""),H=(0,l.useRef)(""),q=(0,l.useRef)(null),U=(0,l.useRef)(null),W=(0,l.useRef)(!1),Y=(0,l.useRef)(null),X=(0,l.useRef)({}),V=(0,l.useRef)(new Map),J=(0,l.useRef)(!1),K=(0,l.useRef)(0),Z=(0,l.useRef)(null),G=(0,l.useRef)(new Set),$=(0,l.useRef)(new Map),Q=(0,l.useRef)(new Map);(0,l.useEffect)(()=>{z.current=w,localStorage.setItem(i,String(w))},[w]),(0,l.useEffect)(()=>{w&&(window.parent.postMessage({type:o,msg:"VISUAL_EDIT_MODE_ACK",active:!0},"*"),window.parent.postMessage({type:o,msg:"VISUAL_EDIT_MODE_RESTORED",active:!0},"*"),setTimeout(()=>{{let e=localStorage.getItem(a);if(e)try{let{id:t}=JSON.parse(e),n=document.querySelector('[data-orchids-id="'.concat(t,'"]'));if(n){let e=n.getBoundingClientRect(),t=new MouseEvent("click",{clientX:e.left+e.width/2,clientY:e.top+e.height/2,bubbles:!0,cancelable:!0});n.dispatchEvent(t)}}catch(e){}}},500))},[]);let ee=e=>({top:e.top-4,left:e.left-4,width:e.width+8,height:e.height+8}),et=()=>{D.current&&y(ee(D.current.getBoundingClientRect()))};(0,l.useEffect)(()=>{if(w&&!Y.current){let e=document.createElement("style");e.textContent='\n        [contenteditable="true"]:focus {\n          outline: none !important;\n          box-shadow: none !important;\n          border-color: inherit !important;\n        }\n        [contenteditable="true"] {\n          cursor: text !important;\n        }\n        /* Prevent the default blue highlight on contenteditable */\n        [contenteditable="true"]::selection {\n          background-color: rgba(59, 130, 246, 0.3);\n        }\n        [contenteditable="true"]::-moz-selection {\n          background-color: rgba(59, 130, 246, 0.3);\n        }\n        /* Prevent child elements from being editable */\n        [contenteditable="true"] [contenteditable="false"] {\n          user-select: none !important;\n          -webkit-user-select: none !important;\n          -moz-user-select: none !important;\n          -ms-user-select: none !important;\n          opacity: 0.7 !important;\n          cursor: default !important;\n        }\n        /* Ensure protected elements can\'t be selected */\n        [data-orchids-protected="true"] {\n          user-select: none !important;\n          -webkit-user-select: none !important;\n          -moz-user-select: none !important;\n          -ms-user-select: none !important;\n        }\n      ',document.head.appendChild(e),Y.current=e}else!w&&Y.current&&(Y.current.remove(),Y.current=null);return()=>{Y.current&&(Y.current.remove(),Y.current=null)}},[w]);let en=e=>{e.querySelectorAll("*").forEach(e=>{e.contentEditable="false",e.setAttribute("data-orchids-protected","true"),e.style.userSelect="none",e.style.webkitUserSelect="none"})},er=e=>{e.querySelectorAll('[data-orchids-protected="true"]').forEach(e=>{e.removeAttribute("contenteditable"),e.removeAttribute("data-orchids-protected"),e.style.userSelect="",e.style.webkitUserSelect=""})},el=e=>{let t,n;if(e!==U.current)return void console.warn("Attempting to handle text change for non-editing element");let r=e.getAttribute("data-orchids-id");if(r&&(t=e.childElementCount>0?c(e):e.innerText||e.textContent||"")!==(n=B.current)){let e=f(r);if(!e)return;s({type:o,msg:"TEXT_CHANGED",id:r,oldText:p(n),newText:p(t),filePath:e.filePath,line:e.line,column:e.column}),B.current=t}},eo=(e,t)=>{let n=e.getAttribute("data-orchids-id");if(!n||!f(n))return;document.querySelectorAll('[data-orchids-id="'.concat(n,'"]')).forEach(e=>{Object.entries(t).forEach(t=>{let[n,r]=t,l=n.replace(/([A-Z])/g,"-$1").toLowerCase(),o=r;"backgroundColor"===n&&("transparent"===r||"rgba(0, 0, 0, 0)"===r||"rgb(0, 0, 0, 0)"===r)&&(o="transparent"),"backgroundColor"===n&&"transparent"===o||"backgroundImage"===n&&"none"===r||"textDecoration"===n&&"none"===r||"fontStyle"===n&&"normal"===r||"opacity"===n&&"1"===r||(n.includes("padding")||n.includes("margin"))&&"0"===r||"borderRadius"===n&&"0"===r||"letterSpacing"===n&&"normal"===r||"gap"===n&&"normal"===r?e.style.removeProperty(l):e.style.setProperty(l,o,"important")})});let r=V.current.get(n)||{};V.current.set(n,{...r,...t}),J.current=!0,requestAnimationFrame(()=>{et()})},ei=e=>{if(!J.current)return;let t=e.getAttribute("data-orchids-id");if(!t)return;let n=f(t);if(!n)return;let r=V.current.get(t);r&&0!==Object.keys(r).length&&(s({type:o,msg:"STYLE_BLUR",id:t,styles:r,className:e.getAttribute("class")||"",filePath:n.filePath,line:n.line,column:n.column}),J.current=!1)},ea=()=>{let e=q.current;if(!e)return;let t=e.getAttribute("data-orchids-id");if(!t)return;let n=f(t);if(!n)return;let r=m(e.src),l=m(H.current);r&&r!==l&&(s({type:o,msg:"IMAGE_BLUR",id:t,oldSrc:l,newSrc:r,filePath:n.filePath,line:n.line,column:n.column}),H.current=r,q.current=null)};(0,l.useEffect)(()=>{function e(e){var t,n,r;if((null==(t=e.data)?void 0:t.type)==="ORCHIDS_STYLE_UPDATE"){let{elementId:t,styles:n}=e.data,r=document.querySelectorAll('[data-orchids-id="'.concat(t,'"]'));if(r.length>0){let e=n.fontFamily||n.fontFamily;if(e){let t=e.replace(/['\s]+/g,"+");if(!G.current.has(t)){let e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=".concat(t,":wght@400&display=swap"),document.head.appendChild(e),G.current.add(t)}}if(e){$.current.set(t,e);let n=Q.current.get(t);n&&clearTimeout(n);let r=window.setTimeout(()=>{$.current.delete(t),Q.current.delete(t)},2e3);Q.current.set(t,r)}r.forEach(e=>{D.current===e?eo(e,n):Object.entries(n).forEach(t=>{let[n,r]=t,l=n.replace(/([A-Z])/g,"-$1").toLowerCase(),o=String(r);"backgroundColor"===n&&("transparent"===r||"rgba(0, 0, 0, 0)"===r||"rgb(0, 0, 0, 0)"===r)&&(o="transparent"),"backgroundColor"===n&&"transparent"===o||"backgroundImage"===n&&"none"===r||"textDecoration"===n&&"none"===r||"fontStyle"===n&&"normal"===r||"opacity"===n&&"1"===r||(n.includes("padding")||n.includes("margin"))&&"0"===r||"borderRadius"===n&&"0"===r||"letterSpacing"===n&&"normal"===r||"gap"===n&&"normal"===r?e.style.removeProperty(l):e.style.setProperty(l,o,"important")})})}}else if((null==(n=e.data)?void 0:n.type)==="ORCHIDS_IMAGE_UPDATE"){let{elementId:t,src:n,oldSrc:r}=e.data,l=null;if(document.querySelectorAll('[data-orchids-id="'.concat(t,'"]')).forEach(e=>{if("img"===e.tagName.toLowerCase()){let t=m(e.src);l||(l=e),r&&m(r)===t&&(l=e)}}),!l)return;if("img"===l.tagName.toLowerCase()){let e=l;e.removeAttribute("srcset"),e.srcset="",e.src=n,H.current=m(n),q.current=e,e.onload=()=>et()}}else if((null==(r=e.data)?void 0:r.type)==="RESIZE_ELEMENT"){let{elementId:t,width:n,height:r}=e.data,l=document.querySelector('[data-orchids-id="'.concat(t,'"]'));l&&D.current===l&&(l.style.setProperty("width","".concat(n,"px"),"important"),l.style.setProperty("height","".concat(r,"px"),"important"),et())}}return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);let eu=(e,n)=>{if(!D.current)return;e.preventDefault(),e.stopPropagation();let r=D.current.getBoundingClientRect();t(null),k.current=null,document.body.style.pointerEvents="none",document.querySelectorAll(".resize-handle").forEach(e=>{e.style.pointerEvents="auto"}),S(!0),j.current=!0,C(n),I({x:e.clientX,y:e.clientY,width:r.width,height:r.height})};(0,l.useEffect)(()=>{if(!x||!_||!L||!D.current)return;let n=n=>{var r;let l=n.clientX-_.x,i=n.clientY-_.y,a=_.width,u=_.height;L.includes("e")&&(a=_.width+l),L.includes("w")&&(a=_.width-l),L.includes("s")&&(u=_.height+i),L.includes("n")&&(u=_.height-i);let s=null==(r=D.current)?void 0:r.parentElement;if(s){let e=s.getBoundingClientRect(),t=window.getComputedStyle(s),n=parseFloat(t.paddingLeft)||0,r=parseFloat(t.paddingRight)||0,l=parseFloat(t.paddingTop)||0,o=parseFloat(t.paddingBottom)||0,i=e.width-n-r,d=e.height-l-o,c=u>d;a=Math.max(20,a>i?a:Math.min(a,i)),u=Math.max(20,c?u:Math.min(u,d))}else a=Math.max(20,a),u=Math.max(20,u);e&&t(null),b&&window.parent.postMessage({type:o,msg:"RESIZE_ELEMENT",elementId:b,width:Math.round(a),height:Math.round(u)},"*")},r=()=>{if(D.current&&b){let e=D.current,t=window.getComputedStyle(e),n=parseFloat(t.width)||e.offsetWidth,r=parseFloat(t.height)||e.offsetHeight,l=t.maxWidth,i=t.maxHeight,a=e.parentElement,u="".concat(Math.round(n),"px"),s="".concat(Math.round(r),"px");if(a){let e=a.getBoundingClientRect(),t=window.getComputedStyle(a),l=parseFloat(t.paddingLeft)||0,o=parseFloat(t.paddingRight)||0,i=parseFloat(t.paddingTop)||0,d=parseFloat(t.paddingBottom)||0,c=e.width-l-o,f=e.height-i-d,g=n/c*100,m=r/f*100;(.1>Math.abs(g-Math.round(g))||[25,33.333,50,66.667,75,100].some(e=>.5>Math.abs(g-e)))&&(u="".concat(Math.round(10*g)/10,"%")),.1>Math.abs(m-Math.round(m))&&[25,50,75,100].includes(Math.round(m))&&(s="".concat(Math.round(m),"%"))}let d={};d.width=u,d.height=s,l&&"none"!==l&&"initial"!==l&&(d.maxWidth=u),i&&"none"!==i&&"initial"!==i&&(d.maxHeight=s);let c={type:o,msg:"STYLE_BLUR",id:b,styles:d,filePath:"",line:0,column:0,className:e.getAttribute("class")||""},g=e.getAttribute("data-orchids-id");if(g){let e=f(g);e&&(c.filePath=e.filePath,c.line=e.line,c.column=e.column)}window.parent.postMessage(c,"*")}S(!1),j.current=!1,C(null),I(null),document.body.style.pointerEvents="",k.current=null};return document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r)}},[x,_,L,b,e]);let es=()=>{if(U.current){let e=U.current;U.current=null,ei(e),el(e),e.childElementCount>0&&er(e),W.current||(e.contentEditable="false");let t=(e.getAttribute("style")||"").replace(/outline:\s*none\s*!important;?/gi,"").replace(/box-shadow:\s*none\s*!important;?/gi,"").trim().replace(/;\s*;/g,";").replace(/^;|;$/g,"");t?e.setAttribute("style",t):e.removeAttribute("style"),e.blur();let n=e._editHandlers;n&&(e.removeEventListener("focus",n.focus),e.removeEventListener("blur",n.blur),e.removeEventListener("input",n.input),delete e._editHandlers),W.current=!1,B.current=""}};return(0,l.useEffect)(()=>{if(!w)return;let e=e=>{let t=e.target.closest("a");t&&!t.isContentEditable&&(e.preventDefault(),e.stopPropagation())},t=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("click",e,!0),document.addEventListener("submit",t,!0),()=>{document.removeEventListener("click",e,!0),document.removeEventListener("submit",t,!0)}},[w]),(0,l.useEffect)(()=>{w||(es(),V.current.clear(),J.current=!1,q.current=null)},[w]),(0,l.useEffect)(()=>{if(D.current){let e=()=>{if(et(),D.current&&b){let e=ee(D.current.getBoundingClientRect());e&&s({type:o,msg:"FOCUS_MOVED",id:b,rect:{top:e.top,left:e.left,width:e.width,height:e.height}})}};window.addEventListener("scroll",e,!0),window.addEventListener("resize",e);let t=new ResizeObserver(e);return t.observe(D.current),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e),t.disconnect()}}},[b]),(0,l.useEffect)(()=>{function e(e){var n,r;if(j.current||!z.current||R)return;let l=null!=(r=null==(n=document.elementFromPoint(e.clientX,e.clientY))?void 0:n.closest("[data-orchids-id]"))?r:null;if(l!==k.current){if(k.current=l,!l){t(null),u([]),T(null),P.current=null,ea(),s({type:o,msg:"HIT",id:null,tag:null,rect:null});return}let e=l.getAttribute("data-orchids-id");if(e===P.current)return;P.current=e;let n=l.getAttribute("data-orchids-name")||l.tagName.toLowerCase(),r=document.querySelectorAll('[data-orchids-id="'.concat(e,'"]')),i=[];r.forEach(e=>{if(e.getAttribute("data-orchids-id")===b)return;let t=e.getBoundingClientRect();i.push(ee(t))}),u(i),e!==b?t(ee(l.getBoundingClientRect())):t(null),T(n),s({type:o,msg:"HIT",id:e,tag:n,rect:e!==b?ee(l.getBoundingClientRect()):null})}}function n(){z.current&&!j.current&&(t(null),u([]),T(null),ea(),k.current=null,P.current=null,s({type:o,msg:"HIT",id:null,tag:null,rect:null}))}function r(e){var t;if(j.current||!z.current)return;let n=null==(t=e.target)?void 0:t.closest("[data-orchids-id]");if(n&&d(n)&&(W.current="true"===n.contentEditable,!W.current)){let e=n.getAttribute("style")||"";n.setAttribute("style","".concat(e,"; outline: none !important; box-shadow: none !important;")),n.contentEditable="true",n.childElementCount>0&&en(n)}}function l(e){if(j.current||!z.current)return;let n=Date.now();if(n-K.current<100)return;K.current=n;let r=e.target.closest("[data-orchids-id]");if(r){let n=r.getAttribute("data-orchids-name")||r.tagName.toLowerCase(),l=r.getAttribute("data-orchids-id"),i=d(r),f="a"===r.tagName.toLowerCase()||!!r.closest("a"),p="button"===r.tagName.toLowerCase()||"button"===r.getAttribute("role");(f||p||!i)&&(e.preventDefault(),e.stopPropagation());let h=D.current;D.current=r,v(l),O(n),l&&localStorage.setItem(a,JSON.stringify({id:l,tag:n}));let b=document.querySelectorAll('[data-orchids-id="'.concat(l,'"]')),w=[];if(b.forEach(e=>{if(e===r)return;let t=e.getBoundingClientRect();w.push(ee(t))}),u(w),w.length>0&&T(n),"img"===r.tagName.toLowerCase()?q.current=r:q.current=null,X.current=g(r),i&&(Z.current&&(clearTimeout(Z.current),Z.current=null),U.current&&U.current!==r&&(U.current.blur(),es()),r!==U.current)){U.current=r,r.childElementCount>0?B.current=c(r):B.current=r.innerText||r.textContent||"";let e={handleFocus:()=>{r===U.current&&(ei(r),r.childElementCount>0?B.current=c(r):B.current=r.innerText||r.textContent||"",J.current=!1)},handleBlur:()=>{r===U.current&&(ei(r),el(r))},handleInput:()=>{if(r!==U.current)return}};r.addEventListener("focus",e.handleFocus),r.addEventListener("blur",e.handleBlur),r.addEventListener("input",e.handleInput),r._editHandlers={focus:e.handleFocus,blur:e.handleBlur,input:e.handleInput}}let E=ee(r.getBoundingClientRect());y(E),t(null);let x=r.getAttribute("class")||"",S="img"===r.tagName.toLowerCase()?r.src:void 0;S&&(H.current=m(S));let L=g(r);s({type:o,msg:"ELEMENT_CLICKED",id:l,tag:n,rect:E?{top:E.top,left:E.left,width:E.width,height:E.height}:{top:0,left:0,width:0,height:0},clickPosition:{x:e.clientX,y:e.clientY},isEditable:i,currentStyles:L,className:x,src:S}),setTimeout(()=>{ea(),h&&h!==r&&ei(h),U.current&&U.current!==r&&es()},0)}else D.current&&(ea(),ei(D.current),es(),D.current=null,v(null),O(null),y(null),t(null),u([]),T(null),localStorage.removeItem(a),s({type:o,msg:"ELEMENT_CLICKED",id:null,tag:null,rect:{top:0,left:0,width:0,height:0},clickPosition:{x:e.clientX,y:e.clientY},isEditable:!1,currentStyles:{},className:""}))}function f(e){var n;if((null==(n=e.data)?void 0:n.type)===o){if("PREVIEW_FONT"===e.data.msg&&"elementId"in e.data){let{elementId:t,fontFamily:n}=e.data;if($.current.has(t))return;let r=document.querySelector('[data-orchids-id="'.concat(t,'"]'));if(!r)return;let l=n.replace(/\s+/g,"+");if(!G.current.has(l)){let e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=".concat(l,":wght@400&display=swap"),document.head.appendChild(e),G.current.add(l)}r.style.fontFamily="'".concat(n,"', sans-serif");return}if("SCROLL"===e.data.msg&&"dx"in e.data&&"dy"in e.data&&window.scrollBy(e.data.dx,e.data.dy),"VISUAL_EDIT_MODE"===e.data.msg&&"active"in e.data){let n=e.data.active;E(n),n||(localStorage.removeItem(i),localStorage.removeItem(a)),window.parent.postMessage({type:o,msg:"VISUAL_EDIT_MODE_ACK",active:n},"*"),n||(ea(),es(),q.current=null,t(null),u([]),y(null),v(null),k.current=null,D.current=null,J.current=!1,T(null),O(null),s({type:o,msg:"HIT",id:null,tag:null,rect:null}))}if("CLEAR_INLINE_STYLES"===e.data.msg&&"elementId"in e.data&&(document.querySelectorAll('[data-orchids-id="'.concat(e.data.elementId,'"]')).forEach(e=>{["fontSize","color","fontWeight","fontStyle","textDecoration","textAlign","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","backgroundColor","backgroundImage"].forEach(t=>{e.style[t]=""})}),V.current.delete(e.data.elementId)),"SHOW_ELEMENT_HOVER"===e.data.msg&&"elementId"in e.data){let{elementId:t}=e.data;if(!t){u([]),T(null);return}let n=document.querySelectorAll('[data-orchids-id="'.concat(t,'"]'));if(n.length>0){let e=[],t="";n.forEach(n=>{if(n===D.current)return;let r=n.getBoundingClientRect();e.push(ee(r)),t||(t=n.getAttribute("data-orchids-name")||n.tagName.toLowerCase())}),u(e),T(e.length>0?t:null)}}}}function p(){!j.current&&z.current&&(A(!0),t(null),u([]),s({type:o,msg:"SCROLL_STARTED"}),F.current&&clearTimeout(F.current),F.current=window.setTimeout(()=>{A(!1),s({type:o,msg:"SCROLL_STOPPED"})},16))}return document.addEventListener("pointermove",e,{passive:!0}),document.addEventListener("pointerleave",n),document.addEventListener("mousedown",r,{capture:!0}),document.addEventListener("click",l,{capture:!0}),window.addEventListener("message",f),window.addEventListener("scroll",p,!0),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerleave",n),document.removeEventListener("mousedown",r,!0),document.removeEventListener("click",l,!0),window.removeEventListener("message",f),window.removeEventListener("scroll",p,!0),F.current&&clearTimeout(F.current)}},[b,x]),(0,r.jsxs)(r.Fragment,{children:[w&&!x&&(0,r.jsx)(r.Fragment,{children:n.filter(e=>null!==e).map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"fixed pointer-events-none border-[0.5px] border-[#38bdf8] bg-blue-200/20 border-dashed rounded-sm",style:{zIndex:1e5,left:e.left,top:e.top,width:e.width,height:e.height}}),M&&(0,r.jsx)("div",{className:"fixed pointer-events-none text-[10px] text-white bg-[#38bdf8] px-1 py-0.5 rounded-sm",style:{zIndex:100001,left:e.left,top:e.top-20},children:M})]},t))}),w&&h&&(0,r.jsxs)(r.Fragment,{children:[N&&(0,r.jsx)("div",{className:"fixed text-[10px] font-semibold text-white bg-[#3b82f6] px-1 rounded-sm pointer-events-none select-none",style:{zIndex:100003,left:h.left-4,top:h.top-16},children:N}),(0,r.jsx)("div",{className:"fixed pointer-events-none border-[1.5px] border-[#38bdf8] rounded-sm",style:{zIndex:100001,left:h.left,top:h.top,width:h.width,height:h.height}}),!x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-nw-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left-4,top:h.top-4},onMouseDown:e=>eu(e,"nw")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-ne-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left+h.width-4,top:h.top-4},onMouseDown:e=>eu(e,"ne")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-sw-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left-4,top:h.top+h.height-4},onMouseDown:e=>eu(e,"sw")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-se-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left+h.width-4,top:h.top+h.height-4},onMouseDown:e=>eu(e,"se")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-n-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left+h.width/2-4,top:h.top-4},onMouseDown:e=>eu(e,"n")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-s-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left+h.width/2-4,top:h.top+h.height-4},onMouseDown:e=>eu(e,"s")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-w-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left-4,top:h.top+h.height/2-4},onMouseDown:e=>eu(e,"w")}),(0,r.jsx)("div",{className:"fixed w-2 h-2 bg-[#38bdf8] rounded-full cursor-e-resize pointer-events-auto resize-handle",style:{zIndex:100002,left:h.left+h.width-4,top:h.top+h.height/2-4},onMouseDown:e=>eu(e,"e")})]})]})]})}},83298:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,69243,23)),Promise.resolve().then(n.t.bind(n,30347,23)),Promise.resolve().then(n.bind(n,30153)),Promise.resolve().then(n.bind(n,72344))},92374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return r},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[690,441,684,358],()=>t(83298)),_N_E=e.O()}]);